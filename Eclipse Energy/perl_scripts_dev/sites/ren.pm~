=pod
Description: --- Put Description of Code Here ---
Created by: --- Put Name Here ---
Date: --- Put Date Here ---
=cut


# --- Please dont' edit anything in this section. Feel free to add Perl modules to use --- #
package Site::ren;

use warnings;
use strict;
use Date::Calc qw(Delta_Days Add_Delta_Days Today Now);
use misc qw(%monthToNum %txtToNum %frenchMon %alt_french_months GetBetween 
			getTables slurp clean parseDate parseDateMonText trim commaNumber get_gas_year 
			readFile formatDate getGasDate removeComma);
use log;
use base qw(Site);

sub key { "ren"; }
sub name { "ren";}
sub usesWWW { 1; }
#

#URL of website to scrape
my $URL = "https://www.ign.ren.pt/en/";

sub scrape {
	
	#has the mechanize object. 
	my $self = shift;
		
=pod
#1)	INSTRUCTIONS:

1) Go to https://www.ign.ren.pt/en/
2) We want the data in the links called "ExistÃªncias na RNTIAT" and "Capacidades e PCS nos Pontos Relevantes da RNTGN"
3) In the Existencias spreadsheet download:
- There are three tabs. We want the data on the Existencias_TGNL and Existencias_AS tabs
- Existencias_TGNL gives the stock level and available capacity of LNG storage. We want both. Same goes for Exsitencias_AS. Amount of gas is the stock level and available capacity, but for underground storage.
4) The date should be in YYYY-MM-DD format. So the final array should look like: <date, type,stock_level,available_capacity>

5) In the Capacidades spreadsheet download:
- We are interested in the data in all tabs. The information we need:
	-  physical entry flows and physical exit flows (columns F and L) in tabs Camp_Major, terminal, AS and Valenca
	-  physical flows  in Clientes_AP and Outra_saidas (column F) should be put in a column called "exit flows"
- Campo Mejor flows should be called Badajoz, Terminal flows should be called LNG sendout, AS should be called stock change, valenca should be called Tuy, Clientes_AP should be called High Pressure Clients, Outra_saidas should be called other offtakes.
6) Date should be in normal format. So the final array should look like: <date,point,entry_flow, exit_flow>

=cut
	my @data;
	
	$self->updateDB("eeg.enagas_monthly_arrivals",["eta","etd","vessel"],["berth"],\@data,name());
		
	#exits the method
	return 1;
	
}

1;


